<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8"> <!-- 设置字符集为UTF-8 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- 设置视口，确保页面响应式布局 -->
    <title>Johari Window - 我的了解</title> <!-- 设置页面标题 -->
    <link rel="stylesheet" href="public/johari.css">

    <script>
        const socket = io();  // 初始化Socket.io连接（在此文件中未使用）

        function submitForm() {
            const name = document.getElementById('name').value;  // 获取用户输入的姓名
            const userwords = Array.from(document.querySelectorAll('button.selected')).map(button => button.textContent);  // 获取用户选择的词汇

            if (userwords.length < 5 || userwords.length > 6) {  // 判断用户选择的词汇数量是否符合要求
                alert('请选择5到6个词汇！');  // 如果数量不符合要求，提示用户
                return;
            }
            if (!name) {
                alert('请输入姓名！');  // 如果没输入姓名，提示用户
                return;
            }

            // 构建URL，将数据传递到 result.html 页面
            const url = new URL('result.html', window.location.href);
            url.searchParams.set('name', name);  // 将姓名参数添加到URL中
            url.searchParams.set('userwords', userwords.join(','));  // 将用户选择的词汇添加到URL中

            // 跳转到结果页面
            window.location.href = url;
        }

        function toggleSelection(button) {
            button.classList.toggle('selected');  // 切换按钮的选中状态
        }
    </script>
</head>
<body>
    <div class="container">
        <h1>Johari Window - 我的了解</h1> <!-- 页面标题 -->
        <p>请输入您的姓名：<input type="text" id="name" required></p> <!-- 输入框用于用户输入姓名 -->

        <div id="words-container">
            <!-- 所有的词汇按钮 -->
            <div class="row">
                <button type="button" onclick="toggleSelection(this)">able</button>
                <button type="button" onclick="toggleSelection(this)">accepting</button>
                <button type="button" onclick="toggleSelection(this)">adaptable</button>
                <button type="button" onclick="toggleSelection(this)">bold</button>
                <button type="button" onclick="toggleSelection(this)">brave</button>
            </div>
            <div class="row">
                <button type="button" onclick="toggleSelection(this)">calm</button>
                <button type="button" onclick="toggleSelection(this)">caring</button>
                <button type="button" onclick="toggleSelection(this)">cheerful</button>
                <button type="button" onclick="toggleSelection(this)">clever</button>
                <button type="button" onclick="toggleSelection(this)">complex</button>
            </div>
            <div class="row">
                <button type="button" onclick="toggleSelection(this)">confident</button>
                <button type="button" onclick="toggleSelection(this)">dependable</button>
                <button type="button" onclick="toggleSelection(this)">dignified</button>
                <button type="button" onclick="toggleSelection(this)">energetic</button>
                <button type="button" onclick="toggleSelection(this)">extroverted</button>
            </div>
            <div class="row">
                <button type="button" onclick="toggleSelection(this)">friendly</button>
                <button type="button" onclick="toggleSelection(this)">giving</button>
                <button type="button" onclick="toggleSelection(this)">happy</button>
                <button type="button" onclick="toggleSelection(this)">helpful</button>
                <button type="button" onclick="toggleSelection(this)">idealistic</button>
            </div>
            <div class="row">
                <button type="button" onclick="toggleSelection(this)">independent</button>
                <button type="button" onclick="toggleSelection(this)">ingenious</button>
                <button type="button" onclick="toggleSelection(this)">intelligent</button>
                <button type="button" onclick="toggleSelection(this)">introverted</button>
                <button type="button" onclick="toggleSelection(this)">kind</button>
            </div>
            <div class="row">
                <button type="button" onclick="toggleSelection(this)">knowledgeable</button>
                <button type="button" onclick="toggleSelection(this)">logical</button>
                <button type="button" onclick="toggleSelection(this)">loving</button>
                <button type="button" onclick="toggleSelection(this)">mature</button>
                <button type="button" onclick="toggleSelection(this)">modest</button>
            </div>
            <div class="row">
                <button type="button" onclick="toggleSelection(this)">nervous</button>
                <button type="button" onclick="toggleSelection(this)">observant</button>
                <button type="button" onclick="toggleSelection(this)">organised</button>
                <button type="button" onclick="toggleSelection(this)">patient</button>
                <button type="button" onclick="toggleSelection(this)">powerful</button>
            </div>
            <div class="row">
                <button type="button" onclick="toggleSelection(this)">proud</button>
                <button type="button" onclick="toggleSelection(this)">quiet</button>
                <button type="button" onclick="toggleSelection(this)">reflective</button>
                <button type="button" onclick="toggleSelection(this)">relaxed</button>
                <button type="button" onclick="toggleSelection(this)">religious</button>
            </div>
            <div class="row">
                <button type="button" onclick="toggleSelection(this)">responsive</button>
                <button type="button" onclick="toggleSelection(this)">searching</button>
                <button type="button" onclick="toggleSelection(this)">self-assertive</button>
                <button type="button" onclick="toggleSelection(this)">self-conscious</button>
                <button type="button" onclick="toggleSelection(this)">sensible</button>
            </div>
            <div class="row">
                <button type="button" onclick="toggleSelection(this)">sentimental</button>
                <button type="button" onclick="toggleSelection(this)">shy</button>
                <button type="button" onclick="toggleSelection(this)">silly</button>
                <button type="button" onclick="toggleSelection(this)">spontaneous</button>
                <button type="button" onclick="toggleSelection(this)">sympathetic</button>
            </div>
            <div class="row">
                <button type="button" onclick="toggleSelection(this)">tense</button>
                <button type="button" onclick="toggleSelection(this)">trustworthy</button>
                <button type="button" onclick="toggleSelection(this)">warm</button>
                <button type="button" onclick="toggleSelection(this)">wise</button>
                <button type="button" onclick="toggleSelection(this)">witty</button>
            </div>
        </div>

        <button onclick="submitForm()">提交</button> <!-- 提交按钮 -->
    </div>
</body>
</html>
